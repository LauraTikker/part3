{"version":3,"sources":["services/persons.js","components/Filter.js","components/PersonForm.js","components/PersonList.js","App.js","index.js"],"names":["baseUrl","axios","get","then","response","data","newPerson","post","person","delete","id","put","Filter","searchPerson","handleSearchChange","newSearch","onSubmit","value","onChange","PersonForm","addPerson","newName","handleNameChange","newNumber","handleNumberChange","type","PersonList","persons","handlePersonDeletion","peopleToShow","filter","name","toLowerCase","includes","map","key","number","onClick","Notification","notification","notificationSuccess","className","App","useState","setPersons","setNewName","setNewNumber","setNewSearch","setNotification","setNotificationSuccess","useEffect","personService","initialPersons","event","preventDefault","target","length","existingPerson","find","message","window","confirm","windowsAlertForUpdate","returnedPerson","setTimeout","catch","error","console","log","concat","JSON","stringify","personToBeDeleted","windowsAlertForDeletion","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.16ed586e.chunk.js","sourcesContent":["import axios from 'axios'\r\n\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAllPersons = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst addPerson = (newPerson) => {\r\n    const request = axios.post(baseUrl, newPerson)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst removePerson = (person) => {\r\n    const request = axios.delete(`${baseUrl}/${person.id}`)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst updatePerson = (id, person) => {\r\n    const request = axios.put(`${baseUrl}/${id}`, person)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nexport default { getAllPersons, addPerson, removePerson, updatePerson}","import React from 'react'\r\n\r\nconst Filter = ({searchPerson, handleSearchChange, newSearch}) => {\r\n    return ( \r\n       <form\r\n          onSubmit={searchPerson}>\r\n          <div>\r\n            filter shown with\r\n            <input value={newSearch} onChange={handleSearchChange} />\r\n          </div>\r\n        </form>\r\n    )\r\n  }\r\n\r\nexport default Filter","import React from 'react'\r\n\r\nconst PersonForm = ({addPerson, newName, handleNameChange, newNumber, handleNumberChange}) => {\r\n    return (\r\n      <form onSubmit={addPerson}>\r\n          <div>\r\n            name: <input value={newName} onChange={handleNameChange} />\r\n          </div>\r\n          <div>\r\n            number: <input value={newNumber} onChange={handleNumberChange} />\r\n          </div>\r\n          <div>\r\n            <button type=\"submit\">add</button>\r\n          </div>\r\n      </form>\r\n    )\r\n}\r\n\r\nexport default PersonForm","import React from 'react'\r\n\r\nconst PersonList = ({persons, newSearch, handlePersonDeletion}) => {\r\n    const peopleToShow = persons.filter(person => (person.name.toLowerCase()).includes(newSearch.toLowerCase()))\r\n  \r\n    return (\r\n        newSearch === \"\" ? persons.map(person => (\r\n        <li key={person.id}>\r\n          {person.name} {person.number} \r\n          <button onClick={() => handlePersonDeletion(person)}>delete</button></li>\r\n        ))\r\n        : peopleToShow.map(person => (\r\n          <li key={person.id}>\r\n            {person.name} {person.number}\r\n          <button onClick={() => handlePersonDeletion(person)}>delete</button>\r\n          </li>))\r\n    )\r\n}\r\n\r\nexport default PersonList","import React, { useState, useEffect } from \"react\";\nimport personService from './services/persons'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport PersonList from './components/PersonList'\n\nconst windowsAlertForUpdate = (newPerson) => {\n    const message = `${newPerson.name}` + ' is already added to the phonebook, replace the old number with a new one?'\n    return window.confirm(message)\n  };\n\n  const windowsAlertForDeletion = (person) => {\n    const message = `Delete ${person.name}?`\n    return window.confirm(message)\n  };\n\n  const Notification = ({notification, notificationSuccess}) => {\n    if (notification === null) {\n      return (\n        null\n      )\n    }\n\n    return (\n      <div className={notificationSuccess}>\n          {notification}\n        </div>\n    )\n\n  }\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState(\"\");\n  const [newNumber, setNewNumber] = useState(\"\");\n  const [newSearch, setNewSearch] = useState(\"\")\n  const [notification, setNotification] = useState(null)\n  const [notificationSuccess, setNotificationSuccess] = useState('notificationSuccess')\n\n  const hook = () => {\n    personService.getAllPersons()\n      .then(initialPersons => {\n        setPersons(initialPersons)\n      })\n  }\n\n  useEffect(hook, [])\n\n  const addPerson = event => {\n    event.preventDefault();\n\n    if (newName !== \"\" && newNumber !== \"\") {\n\n      const newPerson = {\n        name: newName,\n        number: newNumber,\n        id: persons.length + 1\n      };\n\n      const existingPerson = persons.find(person => person.name === newPerson.name)\n\n      existingPerson ? (windowsAlertForUpdate(existingPerson) ? (\n        \n        personService.updatePerson(existingPerson.id, {...newPerson, id: existingPerson.id})\n        .then(returnedPerson => {\n          setNotification(`Updated ${returnedPerson.name} phonenumber`)\n          \n          setTimeout(() => {\n            setNotification(null)\n          }, 5000)\n          \n          setPersons(persons.map(person => person.id !== existingPerson.id ? person : returnedPerson))\n          \n        }).catch(error => {\n          setNotification(`The ${newPerson.name} is not in the phonebook`)\n          setNotificationSuccess('notificationError')\n          setTimeout(() => {\n            setNotification(null)\n            setNotificationSuccess('notificationSuccess')\n          }, 5000)\n          setPersons(persons.filter(person => person.name !== newPerson.name))\n      })\n        \n        )\n        \n      : console.log('not updated'))\n\n        : personService.addPerson(newPerson)\n        .then(returnedPerson => {\n          setNotification(`Added ${returnedPerson.name} to the phonebook`)\n\n          setTimeout(() => {\n            setNotification(null)\n          }, 5000)\n          \n          setPersons(persons.concat(returnedPerson)\n          );\n        }).catch(error => {\n          setNotification(JSON.stringify(error.response.data.error))\n          setNotificationSuccess('notificationError')\n          setTimeout(() => {\n            setNotification(null)\n            setNotificationSuccess('notificationSuccess')\n          }, 5000)\n          \n          personService.getAllPersons()\n          .then(initialPersons => {\n            setPersons(initialPersons)\n          })\n\n      })\n\n    } else {\n      setNotification(`Both name and number need to be added`)\n          setNotificationSuccess('notificationError')\n          setTimeout(() => {\n            setNotification(null)\n            setNotificationSuccess('notificationSuccess')\n          }, 5000)\n    }\n      \n      setNewName(\"\");\n      setNewNumber(\"\");\n    };\n\n  const removePerson = (personToBeDeleted) => {\n    windowsAlertForDeletion(personToBeDeleted) \n    ? personService.removePerson(persons.find(person => person.name === personToBeDeleted.name))\n    .then(returnedPerson => {\n      setPersons(persons.filter(person => person.id !== personToBeDeleted.id))\n    }).catch(error => {\n        setNotification(`The ${personToBeDeleted.name} has already been removed from phonebook`)\n        setNotificationSuccess('notificationError')\n        setTimeout(() => {\n          setNotification(null)\n          setNotificationSuccess('notificationSuccess')\n        }, 5000)\n        setPersons(persons.filter(person => person.id !== personToBeDeleted.id))\n    })\n     \n    : console.log('nothing deleted')\n    \n  }\n\n  const searchPerson = event => {\n    event.preventDefault();\n  }\n\n  const handleNameChange = event => {\n    setNewName(event.target.value);\n  };\n\n  const handleNumberChange = event => {\n    setNewNumber(event.target.value);\n  };\n\n  const handleSearchChange = event => {\n    setNewSearch(event.target.value);\n  };\n\n  return (\n    <div>\n\n      <h2>Phonebook</h2>\n      <Notification notification={notification} notificationSuccess={notificationSuccess}/>\n      <Filter searchPerson={searchPerson} handleSearchChange={handleSearchChange} newSearch={newSearch}/>\n      <h2>Add a new</h2>\n      <PersonForm addPerson={addPerson} newName={newName} handleNameChange={handleNameChange}\n      newNumber={newNumber} handleNumberChange={handleNumberChange}/>\n      <h2>Numbers</h2>\n      <PersonList persons={persons} newSearch={newSearch} handlePersonDeletion={removePerson}/>\n    </div>\n  );\n};\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App'\nimport './index.css'\n\nReactDOM.render(<App />, \n    document.getElementById('root'));\n"],"sourceRoot":""}